## 7.3 속도를 위한 전략

### 더 나은 알고리즘이나 데이터 구조를 사용하라
가장 중요한 요소: 알고리즘, 데이터 구조

### 컴파일러 최적화 기능을 켜라
컴파일러의 최적화는 보통 실행시간을 몇 퍼센트 정도에서 두 배 정도까지도 개선할 수 있다.   
최적화 옵션 활성화했더니 8.1초 -> 5.9초 25%  
그러나 주의점! 컴파일러가 더 공격적으로 최적화할 수록 버그 초래 가능성 높아지므로 회귀테스트 집합 다시 돌리기!

### 코드를 미세조정하라
```
for (j = 0; (c = mesg[j]) != '\0'; j++) {
    for (i = 0; i < nstarting[c]; i++) {
        k = starting[c][i];
        if (memcmp(mesg+j, pat[k], patlen[k]) == 0) {
            printf("spam: match for '%s'\n", pat[k]);
            return 1;
        }
    }
}
```

```
for (j = 0; (c = mesg[j]) != '\0'; j++) {
    n = nstarting[c];
    for (i = 0; i < n; i++) {
        k = starting[c][i];
        // ...
    }
}

```
10% 빨라진다

### 중요하지 않은 것을 최적화하지 말라
최적화 가치가 있는 프로그램
- 큰 공동체에 서비스를 제공하는 프로그램
- 도서관이나 스팸필터 같은 공공서비스
- 1년 내내 실행될 프로그램

최적화 가치가 대부분 없는 프로그램
- 테스트 프로그램

프로그램을 변경하면서 계속 시간을 측정하고 개선하자.
쉽지는 않다..!
