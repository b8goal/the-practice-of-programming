
# 6장 테스트


``` ad-quote
손이나 계산기를 이용하는 간단한 계산 작업은 보통 계산 괒에러를 발견하하면 그 에러가 나온 위치부터 되짚어 가는 과정을 통해 문제 범위를 좁혀나간다.
```

- **테스트와 디버깅의 차이**
	- *디버깅* : 프로그램이 망가졌다는 것을 알았을 때 하는 일
	- *테스트* : 제대로 돌아간다고 생각되는 프로그램을 의도적이고 체계적으로 망가뜨려 보는 시도
- **버그가 없는 코드를 작성하는 방법** :
	- 프로그램을 통해 코드를 생성하는 것 : 
		- 고수준 언어를 컴파일 해서 어셈블리어로 만들기
		- 정규표현식을 이용해 텍스트 패턴을 지정하는 것
		- 스프레드 시트에서 셀 범위에 대한 연산을 함수로 표현하는 것

# 6.1 코딩하면서 테스트화기

- **경계에서 테스트하라**
- **사전, 사후 조건을 테스트하라**
- **단정문을 사용하라**
- **방어적으로 프로그래밍하라**
- **리턴값을 검사하라**
---

# 6.2 체계적인 테스트


##### 체계적인 테스트의 **조건** :
1. 각 단계마다 *어떤 것*을 테스트하고 있는지 분명히 하라 : **테스트의 대상 정의**
2. 테스트에서 어떤 *결과*가 나와야 하는지 확실히 인식하라 : **테스트 결과 정의**
3. 테스트 *프로세스*에서 빠뜨리고 지나가는 부분이 없어야 한다 : **명확한 테스트 설계**
4. 테스트 결과를 계속 *기록*해서 얼마나 확인을 끝낸건지 알 수 있어야 한다 : **테스트 로그**


---


###### 점층적(Incrementally)으로 테스트하라

``` ad-info
title: 테스트는 프로그램을 구축하면서 차근차근 해 나가야 한다.
```

**점층적 접근방식 vs 빅뱅식 접근방식**

- *점층적 접근방식* : 
	1. 프로그램 **일부**를 작성하고 **바로바로** 테스트한다.
	2. 쉽다, 시간이 오래 걸리지 않는다.
	3. 다만 *점층적 접근방식*에서는 만약 두 패키지를 따로 작성하고 테스트했다면, 마지막에 둘을 연결하고 같이 잘 돌아가는지도 테스트해야 한다. 
- *빅뱅식 접근방식* : 
	1. 프로그램을 **전부** 작성하고 **한꺼번에** 테스트한다.
	2. 어렵다, 시간이 오래 걸린다.

---


###### 단순한 부분을 먼저 테스트하라

``` ad-info
title: 가장 단순하면서도 가장 일반적으로 실행되는 기능 부분에 먼저 집중해야 한다.
```

- *점층적 접근방식*은 기능 테스트를 할 때도 적용된다.
- 다음 단계로 나아가면서 *조금씩 더 많은 부분*을 테스트하면서 기본 메커니즘이 제대로 돌아간다는 *검증*을 쌓아나간다.
- 쉬운 테스트는 쉬운 버그를 잡는다. 

- **정수 배열**을 **이진 탐색**하는 함수
	- **A. 아무 원소도 없는 배열**을 탐색한다. 
	- **B. 한 개의 원소가 있는 배열**에서 다음과 같은 값을 탐색한다. **(A+B)**
		1. 배열에 있는 원소보다 작은 값 *(<)*
		2. 배열에 있는 원소와 동일한 값 *(=)*
		3. 배열에 있는 원소보다 큰 값 *(>)*
	- **C. 두 개의 원소가 있는 배열**에서 다음과 같은 값을 탐색한다. **(A+C)**
		- *다섯 가지의 가능한 경우*를 모두 검사한다
			1. 원소가 A, B이며 A보다 B가 클 *(>)* 경우 A보다 작은 값 *(<)*
			2. A와 같은 값  *(=)*
			3. A보다 크고 *(>)* B보다 작은 값 *(<)*
			4. B와 같은 값 *(=)*
			5. B보다 큰 값 *(>)* 
		- 이 배열에 있는 두 원소가 동일할 때 다음과 같은 경우에 생길 일을 검사한다. 
			1. 배열에 있는 원소보다 작은 값 *(<)*
			2. 배열에 있는 원소와 동일한 값 *(=)*
			3. 배열에 있는 원소보다 큰 값 *(>)*
	- **D. 세 개의 원소**가 있는 배열에서 **원소가 두 개일 때**처럼 검사한다. **(A+B+C)**
	- **E. 네 개의 원소**가 있는 배열에서 **원소가 두 개, 세 개 일 때**처럼 검사한다. **(A+C)+(A+B+C)**

---

###### 어떤 결과가 나와야 하는지 알라

``` ad-info
title: 모든 테스트에서 정답이 무엇인지 아는 것은 필수적이다. 
```

``` ad-tip
title: 하지만 대부분의 프로그램은 그 기준을 규정하기가 쉽지 않다.
(컴파일러, 수학적 알고리즘, 그래픽 프로그램 등등...)
```

- **컴파일러를 테스트 할 때**
	- 테스트용 파일을 *컴파일*하고 실행한다.
		- *기능적 테스트* : 테스트 프로그램은 *결과*를 출력해야 하고,
		- *결과적 테스트* : 그 결과를 *알려진 값(정답?)* 과 비교해야 한다.
- **수학적 프로그램을 테스트 할 때**
	- *기능적 테스트* : 단순한 경우부터 어려운 경우까지 그 *알고리즘의 양 극단*을 탐색할 수 있도록 해야 한다.
	- *결과적 테스트* : 가능하다면, 결과 값의 속성들이 정상인지 검증하는 코드를 작성하라.
		- 수치적 분기는 그 결과가 연속적인지, 그리고 공식으로 계산한 결과와 일치하는지
- **그래픽 프로그램을 테스트할 때**
	- *기능적 테스트* : 직사각형 하나를 그릴 수 있는지 보는 것 만으로는 부족하다.
	- *결과적 테스트* : 그 직사각형 그림을 화면에서 다시 읽어 꼭지점이 있어야 할 위치에 잘 있는지 검사하라.


---

###### **보존 속성**을 검증하라
###### **독립적인 구현 버전**을 비교하라
###### 테스트 **범위**를 **측정**하라