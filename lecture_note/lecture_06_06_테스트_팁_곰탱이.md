# 6.6 테스트 팁

 - 경험이 많은 테스트 인력은 업무를 보다 생산적으로 하기 위해 여러 방법을 사용한다
 - 프로그램을 작성할때 배열 경계를 테스트해야 하지만 그 테스트 코드가 일반적인 입력 크기에 비해 배열 크기가 너무 큰 경우 실행되지 않을 수도 있다.
 - 이 부분을 테스트 하려면 임시로 프로그램의 배열 크기를 작게 만들어 테스트 코드의 입력 크기를 줄일수 있다.
 - 2장의 늘어나는 배열 코드와 4장의 csv 라이브러리에서 이와 관련된 내용을 다뤘다.
 - 상수 하나를 리턴하는 해시 함수를 만들어서 모든 원소를 같은 해시 버킷에 넣는다. 이렇게 체인 메커니즘을 테스트 할수 있고 최악의 경우의 성능을 측정할 수있다.

 - 코드가 메모리 경계 침범 에러에서 회복하는 능력을 테스트 하기 위해 일부러 초반에 할당을 실패하는 저장공간 할당기를 작성한다. 다음의 코드는 함수를 10번 호출한뒤에 NULL을 리턴한다.

 ```c++
/* testmalloc: 열번 호출 뒤에 NULL을 리턴한다*/

void *testmalloc(size_t n){
    static int count = 0;
    if(++count > 10)
        return NULL;
    else
        return malloc(n);

}
```

- 코드를 배포포하기 전에 성능에 영향을 끼칠수 있는 테스트성 조건들을 모두 비활성화 한다.

- 배열과 변수들을 기본값을 0이 아닌 더 눈에 띄는 값으로 한다.

- 테스트 케이스를 다양하게 만들어서 전체적으로 검사한다.

- 버그가 있는 상태에서 다른 기능들을 구현하거나 기존의 기능을 테스트 해서는 안된다.

- 테스트 출력은 테스트를 똑같이 구현이 가능하게 모든 매개변수의 값을 설정해 둔다.
- 난수를 사용하는 프로그램이라면 시드값을 기억해서 재연할수 있도록 한다.

- 프로그램을 실행할 때 출력을 어느정도 제어하고, 추가 정보를 출력하면 테스트가 쉬워진다.

- 여러 기기, 컴파일러 ,os 에서 테스트 한다. 다른 상황에서 들어나지 않는 오류가 발생할 수도 있다.